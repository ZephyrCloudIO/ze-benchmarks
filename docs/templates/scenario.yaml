# scenario.yaml Template
# Customize this template for your specific benchmark scenario

# Basic Information (Required)
id: my-scenario
suite: my-suite
title: "My Scenario Title"
description: |
  Describe what this scenario tests and what the agent needs to accomplish.

  Success criteria:
  - List the key requirements for successful completion
  - Include specific technologies, configurations, or outcomes expected
  - Define what "passing" looks like for this benchmark

# Workspace Configuration (Required)
workspace:
  node: "20.x"
  manager: auto
  managers_allowed: [pnpm]
  workspaces: none  # Use "pnpm", "npm", "yarn", or "none"

# Constraints (Optional)
# Restrict which package managers the agent can use
constraints:
  managers_allowed: [pnpm]

# Validation Commands (Required)
# Commands used to validate successful completion
validation:
  commands:
    install: "pnpm install"
    build: "pnpm build"
    test: "pnpm test"  # Optional: remove if no tests
    lint: "pnpm lint"  # Optional: remove if no linting

# Oracle Answers (Optional)
# File containing expected responses to common agent questions
oracle:
  answers_file: "./oracle-answers.json"

# LLM Judge Configuration (Optional)
# AI-powered evaluation using language models
# REQUIRED: Define custom evaluation categories tailored to your scenario
# Each category will be evaluated on a 1-5 scale and averaged equally
llm_judge:
  enabled: true
  model: "anthropic/claude-3.5-sonnet"
  temperature: 0.1
  max_tokens: 2000
  # Categories: Array of evaluation criteria (each scored 1-5)
  # Include weight percentages in the category text if desired
  # Example format: "Category Name (Weight: 25%): Description and scoring guidance"
  categories:
    - "Code Correctness (Weight: 30%): Implementation accuracy, proper API usage, no bugs. Score 1-5: 1=broken code, 5=perfect implementation"
    - "Best Practices (Weight: 25%): Following framework conventions, clean code patterns. Score 1-5: 1=violates standards, 5=exemplary practices"
    - "Technical Execution (Weight: 20%): Proper use of tools, correct commands, error handling. Score 1-5: 1=incorrect execution, 5=robust implementation"
    - "Documentation & Communication (Weight: 15%): Clear explanations, proper comments. Score 1-5: 1=no documentation, 5=comprehensive docs"
    - "Overall Quality (Weight: 10%): Holistic assessment combining all aspects. Score 1-5: 1=failure, 5=exceptional success"

# Scoring Weights (Optional)
# Customize how different evaluators contribute to the final score
rubric_overrides:
  weights:
    install_success: 2.0          # Dependencies install successfully
    tests_nonregression: 1.0      # Tests pass
    manager_correctness: 2.0      # Correct package manager used
    dependency_targets: 0.5       # Target dependencies updated
    integrity_guard: 1.0          # No security vulnerabilities
    llm_judge: 3.0                # AI evaluation score

# =============================================================================
# Additional Optional Sections
# =============================================================================

# Baseline Commands (Optional)
# Run before agent execution to establish baseline state
# baseline:
#   run:
#     - cmd: "pnpm install"
#     - cmd: "pnpm test"

# Timeout (Optional, default: 30 minutes)
# timeout_minutes: 40

# Dependency Targets (Optional)
# Specify which dependencies should be updated
# targets:
#   required:
#     - name: "react"
#       to: ">=18.3.0 <19.0.0"
#   optional:
#     - name: "eslint"
#       to: "^9.0.0"

# Advanced Constraints (Optional)
# constraints:
#   blocklist:
#     - name: "webpack"
#       reason: "Pinned by build system"
#   namespace_migrations:
#     - from: "xterm"
#       to: "@xterm/xterm"
#   companion_versions:
#     - main: "react"
#       companions:
#         - name: "@types/react"
#           rule: "major must match"

# Additional Rubric Weights (Optional)
# rubric_overrides:
#   weights:
#     used_manager_commands: 0.6
#     semantic_upgrade_quality: 0.8
#     companion_alignment: 0.7
#     deprecated_handling: 0.5
#     namespace_migrations: 0.7
#     breaking_changes_strategy: 0.7
#     monorepo_handling: 0.8
#     user_questions_quality: 0.4
#     efficiency: 0.5
