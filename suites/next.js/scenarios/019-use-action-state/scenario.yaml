id: ZE_nextjs_use_action_state
suite: next.js
title: "useActionState Hook Eval"
description: |
  Next.js evaluation scenario

workspace:
  node: "20.x"
  manager: auto
  managers_allowed: [pnpm]
  workspaces: pnpm

baseline:
  run:
    - cmd: "pnpm install"
    - cmd: "pnpm build"
    - cmd: "pnpm lint"
    - cmd: "pnpm test"

validation:
  commands:
    install: "pnpm install"
    test: "pnpm test"
    lint: "pnpm lint"

oracle:
  answers_file: "./oracle-answers.json"

llm_judge:
  enabled: true
  model: "anthropic/claude-3.5-sonnet"
  temperature: 0.1
  max_tokens: 2000
  categories:
    - "useActionState Hook Usage (Weight: 35%): Evaluates correct implementation of useActionState (formerly useFormState) hook with server actions. Score 1-5: 1=incorrect hook usage, 5=proper useActionState implementation"
    - "Server Action Integration (Weight: 30%): Assesses proper connection between useActionState and server actions with correct state handling. Score 1-5: 1=action not connected, 5=proper action integration with state"
    - "Form State Management (Weight: 20%): Evaluates management of form state including pending states, error states, and success states. Score 1-5: 1=no state management, 5=comprehensive state handling"
    - "User Feedback & UX (Weight: 10%): Assesses implementation of loading indicators, error messages, and success feedback using action state. Score 1-5: 1=no user feedback, 5=excellent UX with state-based feedback"
    - "TypeScript & Type Safety (Weight: 5%): Evaluates proper typing of action state, server action return types, and form data. Score 1-5: 1=no types or incorrect types, 5=fully typed with proper state types"
