id: ZE_nextjs_no_use_effect
suite: next.js
title: "No useEffect for Browser Detection Eval"
description: |
  Next.js evaluation scenario

workspace:
  node: "20.x"
  manager: auto
  managers_allowed: [pnpm]
  workspaces: pnpm

baseline:
  run:
    - cmd: "pnpm install"
    - cmd: "pnpm build"
    - cmd: "pnpm lint"
    - cmd: "pnpm test"

validation:
  commands:
    install: "pnpm install"
    test: "pnpm test"
    lint: "pnpm lint"

oracle:
  answers_file: "./oracle-answers.json"

llm_judge:
  enabled: true
  model: "anthropic/claude-3.5-sonnet"
  temperature: 0.1
  max_tokens: 2000
  categories:
    - "Anti-Pattern Recognition (35%): Identifies and avoids unnecessary useEffect for non-reactive operations like browser detection or static computations. Score 1-5: 1=uses useEffect unnecessarily, 5=correctly avoids useEffect"
    - "Modern React Patterns (30%): Uses appropriate alternatives such as direct checks, useMemo for derived state, or module-level constants. Score 1-5: 1=outdated patterns, 5=modern best practices"
    - "Code Simplicity (20%): Reduces complexity by removing unnecessary state updates and lifecycle hooks. Score 1-5: 1=overly complex, 5=simple and direct"
    - "Performance Implications (10%): Understands that unnecessary useEffect causes extra renders and timing issues. Score 1-5: 1=performance issues, 5=optimal performance"
    - "Implementation Correctness (5%): Code works correctly and passes all tests. Score 1-5: 1=broken, 5=fully functional"
