id: ZE_shadcn_generate_vite
suite: shadcn-generate-vite
# Reference path: where evaluators look for baseline/control output
# (Resolved using suitesDir from benchmark.config.json + suite + scenario path + reference_path)
reference_path: "./repo-fixture/control"
title: "Generate shadcn Project with Vite"
description: |
  This benchmark tests the agent's ability to generate a new shadcn project from scratch
  using Vite as the bundler and npm as the package manager. The agent must correctly
  configure all necessary tools (Vite, Tailwind CSS, TypeScript) and add a shadcn component
  (button) following the official shadcn documentation.

  Success criteria:
  - Bundler: Vite is used with correct configuration (vite.config.ts with React plugin and Tailwind)
  - Package Manager: npm is used with correct dependencies (vite, tailwindcss, @tailwindcss/vite)
  - Styles: Tailwind CSS is properly configured in src/index.css with @tailwind directives
  - Types: TypeScript is properly configured (tsconfig.json and tsconfig.app.json exist)
  - Components: shadcn button component is added (src/components/ui/button.tsx exists)
  - Build: The generated project builds successfully with 'npm build'

workspace:
  node: "20.x"
  manager: auto
  managers_allowed: [ npm ]
  workspaces: none

constraints:
  managers_allowed: [ npm ]

warmup:
  enabled: true
  timeout_minutes: 10
  # Working directory: where warmup agent executes (relative to scenario directory)
  working_dir: "./repo-fixture"

  # Expected structure after warmup completes:
  # repo-fixture/
  #   control/          <- Agent must create this directory (matches reference_path above)
  #     package.json    <- Generated project files
  #     vite.config.ts
  #     src/
  #       index.css     <- Tailwind imports
  #       App.tsx
  #       components/
  #         ui/
  #           button.tsx <- shadcn button component
  #     components.json <- shadcn config
  #     tsconfig.json
  #     tsconfig.app.json

  type: "agent"
  agent:
    provider: "openrouter"
    model: "anthropic/claude-sonnet-4.5"
    # Prompt MUST instruct agent to create a folder called "control"
    # to match the reference_path specified above
    prompt: |
      Generate a folder called control then follow the documentation on https://ui.shadcn.com/docs/installation/vite exactly using the npm setup.

validation:
  commands:
    install: "npm install"
    build: "npm run build"
    # NO test command defined - this is intentional
oracle:
  answers_file: "./oracle-answers.json"

llm_judge:
  enabled: true
  model: "anthropic/claude-3.5-sonnet"
  temperature: 0.1
  max_tokens: 5000
  categories:
    - "Project Structure: Does the project have the correct directory structure for a shadcn/ui + Vite project?"
    - "Bundler Configuration: Is Vite properly configured with React plugin and Tailwind CSS integration?"
    - "Package Dependencies: Are all required dependencies (vite, tailwindcss, @tailwindcss/vite, react, etc.) correctly installed?"
    - "Styling Setup: Is Tailwind CSS properly configured in src/index.css with @tailwind base, components, and utilities?"
    - "TypeScript Configuration: Are tsconfig.json and tsconfig.app.json properly configured?"
    - "Component Integration: Is the shadcn button component correctly added and accessible?"

rubric_overrides:
  weights:
    # Critical: Build must work (install_success checks npm install + npm build)
    install_success: 4.5

    # Critical: File structure must match golden example
    file_structure: 3.5

    # Very Important: Configs must match golden example
    config_accuracy: 4.0

    # Very Important: Package manager must be correct
    manager_correctness: 3.5

    # Important: Dependency versions should be close to golden example
    dependency_proximity: 3.0

    # Important: Overall quality assessment
    llm_judge: 1.5

    # Moderate: No integrity shortcuts
    integrity_guard: 1.5

    # Low: For generation, dependency targets are flexible
    dependency_targets: 1.5

    # Low: Generation tests typically don't have pre-existing tests
    tests_nonregression: 0.5
